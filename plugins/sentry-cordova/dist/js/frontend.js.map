{"version":3,"file":"frontend.js","sourceRoot":"","sources":["../../src/js/frontend.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,qCAAmD;AAEnD,qCAA2D;AAI3D;;;;;GAKG;AACH;IAAqC,mCAGpC;IACC;;;OAGG;IACH,yBAAmB,OAAuB;eACxC,kBAAM,wBAAc,EAAE,OAAO,CAAC;IAChC,CAAC;IAED;;OAEG;IACO,oCAAU,GAApB;QACE,OAAO;YACL,IAAI,EAAE,gBAAgB;YACtB,OAAO,EAAE,QAAQ;SAClB,CAAC;IACJ,CAAC;IAED;;OAEG;IACa,sCAAY,GAA5B,UACE,KAAkB,EAClB,KAAY;;;;;4BAEG,qBAAM,iBAAM,YAAY,YAAC,KAAK,EAAE,KAAK,CAAC,EAAA;;wBAAjD,QAAQ,GAAG,SAAsC;wBAG/C,OAAO,GAAG,MAAM,CAAC,cAAc,IAAI,MAAM,CAAC,cAAc,CAAC,EAAE,CAAC;wBAElE,IAAI,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;4BAC1B,KAAK,YACN,EAAE,gBAAgB,EAAE,MAAM,CAAC,cAAc,CAAC,EAAE,EAAE,EAC9C,QAAQ,CAAC,KAAK,CAClB,CAAC;4BACF,QAAQ,cACN,OAAO,SAAA,IACJ,QAAQ,IACX,KAAK,OAAA,GACN,CAAC;yBACH;wBAED,sBAAO,QAAQ,EAAC;;;;KACjB;IACH,sBAAC;AAAD,CAAC,AAhDD,CAAqC,mBAAY,GAgDhD;AAhDY,0CAAe","sourcesContent":["import { SdkInfo, SentryEvent } from '@sentry/shim';\nimport { FrontendBase, Scope } from '@sentry/core';\n\nimport { CordovaBackend, CordovaOptions } from './backend';\n\ndeclare var window: any;\n\n/**\n * The Sentry Cordova SDK Frontend.\n *\n * @see CordovaOptions for documentation on configuration options.\n * @see SentryClient for usage documentation.\n */\nexport class CordovaFrontend extends FrontendBase<\n  CordovaBackend,\n  CordovaOptions\n> {\n  /**\n   * Creates a new Cordova SDK instance.\n   * @param options Configuration options for this SDK.\n   */\n  public constructor(options: CordovaOptions) {\n    super(CordovaBackend, options);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  protected getSdkInfo(): SdkInfo {\n    return {\n      name: 'sentry-cordova',\n      version: '0.10.2',\n    };\n  }\n\n  /**\n   * @inheritDoc\n   */\n  protected async prepareEvent(\n    event: SentryEvent,\n    scope: Scope,\n  ): Promise<SentryEvent> {\n    let prepared = await super.prepareEvent(event, scope);\n\n    // We add SENTRY_RELEASE from window\n    const release = window.SENTRY_RELEASE && window.SENTRY_RELEASE.id;\n\n    if (release && !prepared.release) {\n      const extra = {\n        ...{ __sentry_release: window.SENTRY_RELEASE.id },\n        ...prepared.extra,\n      };\n      prepared = {\n        release,\n        ...prepared,\n        extra,\n      };\n    }\n\n    return prepared;\n  }\n}\n"]}