!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/common/http"),require("rxjs/operators"),require("class-transformer"),require("rxjs/Observable"),require("rxjs/add/observable/throw"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common/http","rxjs/operators","class-transformer","rxjs/Observable","rxjs/add/observable/throw","@angular/common"],r):r(e.ivtHttpClient={},e.ng.core,e.ng.common,e.catchError,e.plainToClass,e.Rx,e.Rx.Observable,e.ng.common)}(this,function(e,r,t,o,n,i,a,s){"use strict";var u=function(){function e(){}return e.prototype.transformRequestBody=function(e){return null},e.prototype.transformResponseBody=function(e){return null},e.prototype.getAuthorizationHeader=function(){throw new Error("Not Implemented")},e.decorators=[{type:r.Injectable}],e}(),c=function(){function e(e){this.config=e}return e.prototype.intercept=function(e,r){var n=this,i=null;if("false"!==e.params.get("auth")&&((i=i||{}).headers=e.headers.set("Authorization",this.config.getAuthorizationHeader())),"POST"===e.method){var a=this.config.transformRequestBody(e);null!=a?(i=i||{}).body=a:console.log("[IvtHttpInterceptor] transformRequest() is null, request body is not transformed")}return null!=i&&(e=e.clone(i)),r.handle(e).pipe(o.map(function(e){if(e instanceof t.HttpResponse){var r=n.config.transformResponseBody(e);null!=r?e=e.clone({body:r}):console.log("[IvtHttpInterceptor] transformResponse() is null, response body is not transformed")}return e}))},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:u}]},e}(),l=function(){function e(){}return e.ClientError="ClientError",e.Progress="Progress",e.Success="1",e.TokenInvalid="401",e.ParameterMissing="-400",e.InternalServerError="-500",e.FailedToCreateAppointment="-510",e.NoAppointmentFound="-511",e.FailedToCreateRepairOrder="-600",e.FailedToCreateRepairOrderDueToOpenRepairOrderAlreadyExist="-601",e.FailedToUpdateRepairOrder="-620",e.CannotIssueRODueToAlreadyIssued="-630",e.CannotCompleteServiceDueToAlreadyCompleted="-640",e.FailedToCompleteService=-641,e.CannotCancelRepairOrderDueToAlreadyCanceled="-642",e.CannotCancelRepairOrderDueToAlreadyCompleted="-643",e.CannotCheckInDueToNonAppointment="-644",e.CannotIssueDueToNonPreRO="-650",e.NotAllowedFileFormat="-730",e.NoChecklistFound="-900",e.FailedToSaveChecklist="-901",e.FailedToSendMessage="-1000",e.FailedToCreateScheduleItem="-1100",e.OrganizationNotFound="-1200",e.UserNotFound="-1201",e.QLTokenWrong="-1202",e.QLTokenExpired="-1203",e.DealerPushServerSettingMissing="-1204",e.Undefined="-99999",e.Timeout="-90000",e.CannotConnectToServer="-90001",e.KickedOut="HOST_COMMON_6000",e}(),p=function(){function e(){}return e.Critical="critical",e.Normal="normal",e}(),d=function(){return function(){}}(),f=function(){function e(e,r,t,o){this.httpClient=e,this.url=r,this.ClazzType=t,this.config=o}return e.prototype.extractData=function(e){var r=e;if(r.code===l.Success)return r.data,Array,n.plainToClass(this.ClazzType,r.data);throw r},e.prototype.handleError=function(e){var r=new d;if(e.error instanceof ErrorEvent)console.error("[ServicesBase]: An error occurred:",e.error.message),r.code=l.ClientError,r.message=e.error.message;else{if(e instanceof d)return i.Observable.throw(e);if(e instanceof Error)r.code=l.ClientError,r.message=e.message;else if(e.error instanceof ProgressEvent)r.code=l.Progress,r.event=e.error;else{var t=this.config.transformResponseBody(e);(r=t||e.error).code=e.status.toString(),console.error("[ServicesBase]: Backend returned code "+r.code+", body was: "+r.message)}}return i.Observable.throw(r)},e.prototype.getAll=function(e){var r=this;return this.httpClient.get(this.url+(e?"/"+e:"")).pipe(o.map(function(e){return r.extractData(e)})).pipe(o.catchError(function(e){return r.handleError(e)}))},e.prototype.get=function(e){var r=this;return this.httpClient.get(this.url+(e?"/"+e:"")).pipe(o.map(function(e){return r.extractData(e)})).pipe(o.catchError(function(e){return r.handleError(e)}))},e.prototype.save=function(e){var r=this;return this.httpClient.post(this.url,e).pipe(o.map(function(e){return r.extractData(e)})).pipe(o.catchError(function(e){return r.handleError(e)}))},e.prototype.search=function(e){var r=this;return this.httpClient.post(this.url,e).pipe(o.map(function(e){return r.extractData(e)})).pipe(o.catchError(function(e){return r.handleError(e)}))},e.prototype.delete=function(e){var r=this;return this.httpClient.delete(this.url+(e?"/"+e:"")).pipe(o.map(function(e){return r.extractData(e)})).pipe(o.catchError(function(e){return r.handleError(e)}))},e}(),h=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[u,{provide:t.HTTP_INTERCEPTORS,useClass:c,multi:!0}]}},e.decorators=[{type:r.NgModule,args:[{imports:[s.CommonModule,t.HttpClientModule]}]}],e}();e.APICode=l,e.ErrorLevel=p,e.APIResponse=d,e.IvtHttpInterceptor=c,e.IvtHttpClientConfig=u,e.IvtHttpService=f,e.IvtHttpClientModule=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=http-client.umd.min.js.map
