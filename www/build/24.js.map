{"version":3,"sources":["../../src/pages/manual/manual.module.ts","../../src/pages/manual/manual.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ManualPage } from './manual';\nimport {TranslateModule} from \"@ngx-translate/core\";\nimport { PdfViewerModule } from 'ng2-pdf-viewer';\n\n@NgModule({\n  declarations: [\n    ManualPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ManualPage),\n    TranslateModule.forChild(),\n    PdfViewerModule\n  ],\n})\nexport class ManualPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/manual/manual.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Gesture } from 'ionic-angular';\nimport { File } from '@ionic-native/file';\nimport { Utils } from '../../services/util.service';\nimport { TranslateService } from '@ngx-translate/core/src/translate.service';\nimport { FileService } from '../../services/file.service';\n\n/**\n * Generated class for the ManualPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-manual',\n  templateUrl: 'manual.html',\n})\nexport class ManualPage {\n  @ViewChild('pinchElement') pinchElement;\n  private gesture: Gesture;\n  private currentZoom = 1;\n  \n  pdfSrc: string;// = '/assets/doc/SmartTestDriveManual.pdf';\n  loading: any;\n\n  manual: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private file: File,\n    private utils: Utils,\n    private loadingCtrl: LoadingController,\n    private translateService: TranslateService,\n    private fileService: FileService\n  ) {\n  }\n\n  ionViewDidLoad() {\n    this.loadPdfBrowser();\n\n     // create a new Gesture instance hooked to the DOM element\n     this.gesture = new Gesture(this.pinchElement.nativeElement);\n\n     // start listening for ...\n     this.gesture.listen();\n\n      // ... the pinchstart event\n    this.gesture.on('pinchstart', (e) => {\n    });\n\n    // ... for the pinch event\n    this.gesture.on('pinch', (e) => {\n    });\n \n     this.gesture.on('pinchend', (event) => {\n      // get the current zoom value\n      let zoom = this.currentZoom;\n      // get the scaled amount\n      const scale = zoom * event.scale / 10;\n      // if the user is zooming in\n      if (event.additionalEvent === 'pinchout') {\n        zoom += scale;\n      } else {\n        // if zooming out\n        zoom -= scale * 10;\n      }\n\n      // if zoom is too small or too big set them to max values\n      if (zoom < 1) {\n        zoom = 1;\n      } else if (zoom > 2) {\n        zoom = 2;\n      }\n\n      // set the current zoom\n      this.currentZoom = zoom;\n     });\n  }\n\n  public ngOnDestroy() {\n    \n    // stop listening\n    this.gesture.destroy();\n  }\n\n  openManual(idx) {\n    alert(idx + 1 + \"번째 manual open\")\n  }\n\n  async loadPdf(path: string) {\n    return new Promise<string>((resolve, reject) => {\n  \n      const request = new XMLHttpRequest();\n      request.open('GET', path, true);\n      request.responseType = 'blob';\n  \n      request.onload = () => {\n        const reader = new FileReader();\n  \n        reader.onload = (e: any) => {\n          this.loading.dismiss();\n          resolve(e.target.result);\n        }\n        reader.onerror = err => {\n          this.loading.dismiss();\n          reject(err);\n        } \n        reader.readAsDataURL(request.response);\n      };\n  \n      request.send();\n    });\n  }\n\n  async loadPdfBrowser() {\n    this.loading = this.loadingCtrl.create({\n      content: this.translateService.instant('msg.loading')\n    });\n    this.loading.present();\n\n    this.fileService.downloadUserManual().then(_blob => {\n      this.pdfSrc = _blob;\n      this.loading.dismiss();\n    })\n\n\n    //this.pdfSrc = await this.loadPdf(this.file.applicationDirectory + 'www' + this.pdfSrc);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/manual/manual.ts"],"sourceRoot":""}