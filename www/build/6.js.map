{"version":3,"sources":["../../src/pages/document/document.module.ts","../../src/component/camera/camera.component.ts","../../src/component/component.module.ts","../../src/pages/document/document.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DocumentPage } from './document';\nimport {TranslateModule} from \"@ngx-translate/core\";\nimport {SignaturePadModule} from \"angular2-signaturepad\";\nimport { ComponentModule } from '../../component/component.module';\n\n// import {SignaturePadModule2} from \"angular2-signaturepad\";\n\n@NgModule({\n  declarations: [\n    DocumentPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DocumentPage),\n    TranslateModule.forChild(),\n    SignaturePadModule,\n    ComponentModule\n    // SignaturePadModule2\n  ],\n  entryComponents:[\n    DocumentPage\n  ]\n})\nexport class DocumentPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/document/document.module.ts","import { Component, Input } from '@angular/core';\nimport { CameraService } from \"../../services/camera.service\";\nimport { FileService } from \"../../services/file.service\";\nimport { Picture } from \"../../models/picture.model\";\nimport { APIResponse, APICode } from \"@ivt/http-client\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport { AlertController, ModalController } from \"ionic-angular\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { DriveShootingPage } from \"../../pages/drive-shooting/drive-shooting\"\nimport { ImageModal } from '../../pages/vehicle-health-check/imageModal/image-modal';\n\n@Component({\n    selector: 'ivt-camera',\n    templateUrl: './camera.component.html'\n})\nexport class CameraComponent {\n    confirmWord: string;\n    okWord: string;\n    cancelWord: string;\n    _frontPictures: Array<Picture> = [];\n    _backPictures: Array<Picture> = [];\n\n    @Input() noSpashScreen: boolean;\n\n    @Input() \n    get frontPictures() {\n        return this._frontPictures;\n    };\n    set frontPictures(val) {\n        this._frontPictures = val;\n    }\n    @Input()\n    get backPictures() {\n        return this._backPictures;\n    };\n    set backPictures(val) {\n        this._backPictures = val;\n    }\n\n    multiple = false;\n\n    constructor(\n        private camera: CameraService,\n        private fileSvc: FileService,\n        public domSanitizer: DomSanitizer,\n        private alertCtrl: AlertController,\n        private translate: TranslateService,\n        private modalCtrl: ModalController\n    ) {\n        translate.get('DELETE_CAMERA_IMAGE').subscribe((value) => {\n            this.confirmWord = value;\n        })\n        translate.get('OK_BUTTON').subscribe((value) => {\n            this.okWord = value;\n        })\n        translate.get('CANCEL_BUTTON').subscribe((value) => {\n            this.cancelWord = value;\n        })\n    }\n    takePhoto(side: string) {\n        if(this.noSpashScreen) {\n            this.cameraGetPicture(side);\n        }\n        else {\n            let profileModal = this.modalCtrl.create('DriveShootingPage', {\n                pageType: side\n            }, {\n                cssClass: 'full-modal'\n            });\n    \n            profileModal.onDidDismiss(data => {\n                this.cameraGetPicture(side);\n            });\n            profileModal.present();    \n        }\n    }\n\n    cameraGetPicture(side: string) {\n        this.camera.getPicture().then(\n            _base64 => this.storePhotos(side, _base64)\n        )\n    }\n\n    storePhotos(side: string, base64: string): any {\n        let picture = new Picture();\n        picture.url = base64;\n        if (side === 'front') {\n            if (this.multiple === false) {\n                this._frontPictures.splice(0, 1, picture);\n            } else {\n                this._frontPictures.push(picture)\n            }\n        } else if (side === 'back') {\n            if (this.multiple === false) {\n                this._backPictures.splice(0, 1, picture);\n            } else {\n                this._backPictures.push(picture);\n            }\n        }\n    }\n    upload(): Promise<CameraUploadResult> {\n        return new Promise(\n            (resolver, rejecter) => {\n                let uploadRequests = [];\n                let photos = this._frontPictures.concat(this._backPictures);\n                photos.forEach(_picture => {\n                    if (_picture.id == null) {\n                        uploadRequests.push(this.fileSvc.upload(_picture.url, { fileName: this.generateUniqueFileName() }).then(\n                            _id => _picture.id = _id\n                        ))\n                    }\n                });\n                // TODO: handle error\n                Promise.all(uploadRequests).then(_ => {\n                    resolver({\n                        _frontPictures: this._frontPictures,\n                        _backPictures: this._backPictures\n                    });\n                });\n            }\n        );\n        ;\n\n    }\n\n    deletePhoto(side: string) {\n        let item;\n        if (side === 'front') {\n            item = this._frontPictures[0];\n        } else if (side === 'back') {\n            item = this._backPictures[0];\n        }\n\n        let profileModal = this.modalCtrl.create('ImageModal', item, {\n            cssClass: 'full-modal'\n        });\n        profileModal.onDidDismiss(data => {\n        if (data) {\n            if (side === 'front') {\n                this._frontPictures.splice(0, this._frontPictures.length);\n            } else if (side === 'back') {\n                this._backPictures.splice(0, this._backPictures.length);\n            }  \n        }\n        });\n        profileModal.present();\n\n        // let confirm = this.alertCtrl.create({\n        //     title:  this.confirmWord,\n        //     message: '',\n        //     buttons: [\n        //       {\n        //         text: this.cancelWord,\n        //         handler: () => {\n        //         }\n        //       }, {\n        //         text: this.okWord,\n        //         handler: () => {\n        //             if (side === 'front') {\n        //                 this._frontPictures.splice(0, this._frontPictures.length);\n        //             } else if (side === 'back') {\n        //                 this._backPictures.splice(0, this._backPictures.length);\n        //             }  \n        //         }\n        //       }\n        //     ]\n        //   });\n        //   confirm.present();\n    }\n\n    private generateUniqueFileName(): string {\n        return new Date().getTime().toString() + this.fileSvc.FILE_EXTENSION;\n    }\n}\n\nexport interface CameraUploadResult {\n    _frontPictures: Array<Picture>;\n    _backPictures: Array<Picture>;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/component/camera/camera.component.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule, IonicModule } from 'ionic-angular';\nimport { TranslateModule } from \"@ngx-translate/core\";\nimport { CameraComponent } from './camera/camera.component';\n\n@NgModule({\n  declarations: [\n    CameraComponent\n  ],\n  imports: [\n    TranslateModule.forChild(),\n    IonicModule\n  ],\n  exports: [\n    CameraComponent\n  ]\n})\nexport class ComponentModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/component.module.ts","import {Component, ViewChild, QueryList, ViewChildren, HostListener} from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams, ToastController, ModalController} from 'ionic-angular';\nimport {Camera, CameraOptions} from '@ionic-native/camera';\nimport {DomSanitizer} from \"@angular/platform-browser\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {SignaturePad} from \"angular2-signaturepad/signature-pad\";\nimport {ListMasterPage} from \"../list-master/list-master\";\nimport {MainPage} from \"../index\";\nimport { ReservationDocument, ReservationModel } from '../../models/reservation/reservation.model';\nimport { DocumentService } from '../../services/document.service';\nimport { FileService } from '../../services/file.service';\nimport moment from 'moment';\nimport { Config } from '../../app/app.config';\nimport { ToastService } from '../../services/toast.service';\nimport { Util } from '../../providers/util';// import { Validators, FormControl, FormGroup } from '@angular/forms';\nimport { CameraComponent } from '../../component/camera/camera.component';\nimport { Picture } from '../../models/picture.model';\nimport { IvtSecurityService } from '@ivt/security';\nimport { TermsOfServiceModal } from './terms-of-service-modal/terms-of-service-modal'\n// import {SignaturePad2} from \"angular2-signaturepad/signature-pad2\";\n\n/**\n * Generated class for the DocumentPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-document',\n  templateUrl: 'document.html',\n})\nexport class DocumentPage {\n  consultantSignedTime: Date;\n  customerSignedTime: Date;\n  // form: FormGroup;\n  private sendImage: string;\n  public photos_front: any;\n  public photos_back: any;\n  private base64Prefix: string = 'data:image/jpeg;base64,';\n  item: ReservationDocument;\n  salutationEnum: any;\n  termAndCondition: string;\n  isDrawing = false;\n  documentObj: any = {\n    reservationStatus : null,\n    consultantUserId: null,\n    consultantUrlBlob: null,\n    consultantSign: false,\n    customerUrlBlob: null,\n    customerSign:false\n  };\n  consultantUrl: string;\n  customerUrl: string;\n  frontUrl: string;\n  backUrl: string;\n  frontPicture: Picture;\n  backPicture: Picture;\n  frontPictures: Picture []= [];\n  backPictures: Picture []= [];\n  displayDateFormat = Config.date.displayShortTime;\n  @ViewChild('customerSignPad') customerSignPad: SignaturePad;\n  @ViewChild('consultantSignPad') consultantSignPad: SignaturePad;\n  @ViewChild(CameraComponent) private cameraComponent: CameraComponent;\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.resizeCanvas();\n  }\n\n  private signaturePadOptions: Object = { // Check out https://github.com/szimek/signature_pad\n    'minWidth': 2,\n    'backgroundColor': '#ffffff',\n    'penColor': '#666a73'\n  };\n\n\n  constructor(public domSanitizer: DomSanitizer,\n              public navCtrl: NavController, public navParams: NavParams, private camera: Camera,\n              private alertCtrl: AlertController, private translateService: TranslateService,\n              private documentService: DocumentService, private util: Util, private fileService: FileService,\n              private toastService: ToastService, private securityService: IvtSecurityService, private modalCtrl: ModalController\n  ) {\n    this.salutationEnum = [\n                           {name:'document.male', value:'Male'},\n                           {name:'document.female', value:'Female'}\n                         ]\n    \n    let userInfor = this.securityService.getUser();\n    this.documentObj.consultantUserId = userInfor.id;\n    if(userInfor && userInfor.tenant)\n      this.termAndCondition = userInfor.tenant.termsAndConditions;\n\n    let reservationFromServer = navParams.data.item as ReservationModel;\n    this.documentObj.reservationStatus = reservationFromServer.applicationStatusEnum; \n    this.item = util.transformToDocument(reservationFromServer);\n\n    if(this.item.customerSignedTime)\n      this.customerSignedTime = moment(this.item.customerSignedTime, Config.date.YYYYMMDD).toDate();\n    if(this.item.customerSignedTime)\n      this.consultantSignedTime = moment(this.item.consultantSignedTime, Config.date.YYYYMMDD).toDate();\n\n    if(this.item.customerSignatureId){\n      fileService.download(this.item.customerSignatureId).then(result=>{\n        this.customerUrl = result;\n      })\n      this.documentObj.customerUrlBlob = this.item.customerSignatureId;\n    }\n    if(this.item.consultantSignatureId){\n      fileService.download(this.item.consultantSignatureId).then(result=>{\n        this.consultantUrl = result;\n      })\n      this.documentObj.consultantUrlBlob = this.item.consultantSignatureId;\n    }\n    if(this.item.driverLicenseFrontSidePictureId){\n      fileService.download(this.item.driverLicenseFrontSidePictureId).then(result=>{\n        this.frontPicture = new Picture();\n        this.frontPicture.id = this.item.driverLicenseFrontSidePictureId;\n        this.frontPicture.url = result;\n        this.frontPictures.push(this.frontPicture);\n        this.frontUrl = result;\n        \n      })\n    }\n    if(this.item.driverLicenseBackSidePictureId){\n      fileService.download(this.item.driverLicenseBackSidePictureId).then(result=>{\n        this.backPicture = new Picture();\n        this.backPicture.id = this.item.driverLicenseFrontSidePictureId;\n        this.backPicture.url = result;\n        this.backPictures.push(this.backPicture);\n        this.backUrl = result;\n      })\n    }\n  }\n  resizeCanvas() {\n    let customerImg = null;\n    let consultantImg = null;\n    if (this.customerSignPad) {\n      if(!this.customerSignPad.isEmpty()) {\n        customerImg = this.customerSignPad.toDataURL();\n      }\n    } \n\n    if (this.consultantSignPad && !this.consultantSignPad.isEmpty()) {\n      consultantImg = this.consultantSignPad.toDataURL();\n    }\n\n    if(this.customerSignPad)\n        this.customerSignPad.resizeCanvas();\n    if(this.consultantSignPad)\n        this.consultantSignPad.resizeCanvas();\n\n    if (this.customerSignPad && customerImg) {\n      this.customerSignPad.fromDataURL(customerImg);\n    }\n\n    if (this.consultantSignPad && consultantImg) {\n      this.consultantSignPad.fromDataURL(consultantImg);\n    }\n  }\n\n  ngOnInit() {\n    this.photos_front = [];\n    this.photos_back = [];\n  }\n\n  ionViewDidEnter() {\n    this.resizeCanvas();\n    if(this.customerSignPad)\n      this.customerSignPad.clear();\n    if(this.consultantSignPad)\n      this.consultantSignPad.clear();\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad DocumentPage');\n  }\n\n  isOwnReservation(): boolean {\n    if (this.item.consultantUserId)\n      return this.item.consultantUserId == this.documentObj.consultantUserId\n    return true;\n  }\n\n  isDoneReservation (): boolean{\n    return this.util.isDoneReservation(this.documentObj.reservationStatus);\n  }\n  takePic(photos) {\n\n    try {\n      const options: CameraOptions = {\n        quality: 50,\n        // destinationType: this.camera.DestinationType.FILE_URI,\n        destinationType: this.camera.DestinationType.DATA_URL,\n        encodingType: this.camera.EncodingType.JPEG,\n        mediaType: this.camera.MediaType.PICTURE\n      };\n\n      this.camera.getPicture(options).then(\n        (imageData) => {\n          // this.base64Image = this.urlPrefix + imageData;\n          const safeUrl: any = this.base64Prefix + imageData;\n          photos.push(safeUrl);\n          photos.reverse();\n        },\n        (err) => {\n          console.log(err);\n        });\n    } catch (err) {\n      console.log(err)\n    }\n\n  }\n\n  drawComplete(selector) {\n    this.isDrawing = false;\n    if (selector == 'customer') {\n      this.documentObj.customerUrlBlob = this.customerSignPad.toDataURL();\n      this.documentObj.customerSign = true;\n    }\n    else{\n      this.documentObj.consultantUrlBlob = this.consultantSignPad.toDataURL();\n      this.documentObj.consultantSign = true;\n    }\n  }\n\n  drawStart() {\n    this.isDrawing = true;\n  }\n\n  saveCustomerSignature() {\n   return this.fileService.upload(this.documentObj.customerUrlBlob, {mimeType: \".png\"});\n  }\n  saveConsultantSignature(){\n    return this.fileService.upload(this.documentObj.consultantUrlBlob, {mimeType: \".png\"});\n    \n  }\n  clearPad(selector) {\n    if (selector == 'customer') {\n      this.customerSignPad.clear();\n      this.documentObj.customerUrlBlob = null;\n      this.documentObj.customerSign = false;\n    }\n    else if (selector == 'consultant') {\n      this.consultantSignPad.clear();\n      this.documentObj.consultantUrlBlob = null;\n      this.documentObj.consultantSign = false;\n    }\n  }\n  cancel(){\n    this.navCtrl.pop();\n  }\n  private saveDocument(){\n    this.documentService.save(this.item).subscribe(success=>{\n      this.navCtrl.pop();\n    },fail => {\n      this.toastService.error(fail.message);\n    })\n  }\n   save() {\n    if(!this.item.isAgreedWithPrivacyPolicy){\n      this.toastService.error(this.translateService.instant('reservation.validation.term_of_service_message'));\n      return;\n    }\n    let alert =  this.alertCtrl.create({\n      title: this.translateService.instant('msg.confirm_title'),\n      message: this.translateService.instant('msg.are_you_sure_you_want_to_save'),\n      buttons: [\n        {\n          text: this.translateService.instant('CANCEL_BUTTON'),\n          role: 'cancel',\n          handler: () => {\n          }\n        },\n        {\n          text: this.translateService.instant('SAVE_BUTTON'),\n           handler: () => {\n             if(this.item.isAgreedWithPrivacyPolicy){\n              this._updateDocument();\n             } \n             else{\n              this.toastService.error(this.translateService.instant('reservation.validation.term_of_service_message'));\n             }\n            \n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  uploadPhotos() {\n    return this.cameraComponent.upload().then(_result => {\n      if (_result._frontPictures.length > 0) {\n        this.item.driverLicenseFrontSidePictureId = _result._frontPictures[0].id;\n        this.frontUrl = _result._frontPictures[0].url;\n      }\n      else {\n        this.item.driverLicenseFrontSidePictureId = null;\n        this.frontUrl = null;\n      }\n      if (_result._backPictures.length > 0) {\n        this.item.driverLicenseBackSidePictureId = _result._backPictures[0].id;\n        this.backUrl = _result._backPictures[0].url;\n      }\n      else {\n        this.item.driverLicenseBackSidePictureId = null;\n        this.backUrl = null;\n      }\n    })\n  }\n\n  showTerms(showTerms: any) {\n    let profileModal = this.modalCtrl.create('TermsOfServiceModal', {showTerms: showTerms}, {\n      cssClass: 'full-modal'\n  });\n    profileModal.present();\n  }\n\n  private async _updateDocument(){\n    let customerResult;\n    let consultantResult;\n    await this.uploadPhotos();\n    if(this.documentObj.customerSign){\n      customerResult = await this.saveCustomerSignature()\n      this.item.customerSignatureId = customerResult;\n      this.item.customerSignedTime = moment();\n    }\n    if(this.documentObj.consultantSign){\n      consultantResult = await this.saveConsultantSignature();\n      this.item.consultantSignatureId = consultantResult;    \n      this.item.consultantSignedTime = moment();\n    }\n    this.saveDocument();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/document/document.ts"],"sourceRoot":""}