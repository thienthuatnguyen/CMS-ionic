{"version":3,"sources":["../../src/pages/test-drive-ready/test-drive-ready.module.ts","../../src/pages/test-drive-ready/test-drive-ready.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TestDriveReadyPage } from './test-drive-ready';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n@NgModule({\n  declarations: [\n    TestDriveReadyPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TestDriveReadyPage),\n    TranslateModule.forChild()\n  ]\n})\nexport class TestDriveReadyPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/test-drive-ready/test-drive-ready.module.ts","import { Component } from '@angular/core';\nimport {\n  AlertController,\n  IonicPage,\n  NavController,\n  NavParams,\n  Platform,\n  ToastController\n} from 'ionic-angular';\n\nimport { BLE } from \"@ionic-native/ble\";\nimport * as moment from \"moment\";\nimport { Subscription, ISubscription } from \"rxjs/Subscription\";\nimport { FileService } from \"../../services/file.service\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport { TranslateService } from '@ngx-translate/core';\nimport { LoadingService } from '../../services/loading.service';\nimport { Utils } from '../../services/util.service';\nimport { ReservationModel } from '../../models/reservation/reservation.model';\nimport { BluetoothService } from '../../services/bluetooth.service';\nimport { DrivingRecordService, DrivingRecord, DrivingRecordRequest } from '../../services/driving.record.service';\nimport { GeoService } from '../../services/geo.service';\nimport { BackgroundGeolocationResponse } from '@ionic-native/background-geolocation';\nimport { IvtStorageService } from '@ivt/security';\nimport { Config } from '../../app/app.config';\nimport { AppSettingModel } from '../../models/config/app.setting.model';\nimport { ProgressService } from '../../services/progress.service';\nimport { DialogService } from '../../services/dialog.service';\n\n/**\n * Generated class for the TestDriveReadyPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n\n@IonicPage()\n@Component({\n  selector: 'page-test-drive-ready',\n  templateUrl: 'test-drive-ready.html',\n})\nexport class TestDriveReadyPage {\n\n  msg: {\n    ok: string\n  } = {\n      ok: 'OK'\n    }\n  receivingGeolocationString: any;\n  doYouWantToProceedAnywayString: any;\n  okString: any;\n  accessToLocationServicesIsDeniedString: any;\n  gpsString: any;\n  reasonString: any;\n  butFailedString: string;\n  triedToConnectToString: string;\n  connectionFailedToString: any;\n  connectingToBluetoothDeviceString: any;\n  noString: any;\n  yesString: any;\n  bluetoothString: any;\n  bluetoothOffString: any;\n  startDrivingRecord: any;\n  latlng: any\n  recordId: any\n  item: ReservationModel;\n  carInfo: string;\n  info: Array<{ userName: any, consultant: any, useTime: any, location: any }>\n  btUnpaireItems: Array<{ name: any, address: any, id: any, class: any }>;\n  geoItems: any;\n  uploadDrivingRecord: any;\n\n  applicationId: any;\n\n  isConnected: boolean\n\n  btMsg: string\n  macAddress: string\n\n\n  startAddress: any\n\n  drivingRecord: any;\n  previousRecord: any;\n  btConnect: Subscription\n  vehiclePicture: any;\n  internalSubscription: Subscription;\n  private tabElement: any;\n  private appSetting: AppSettingModel;\n  private readonly GEO_TIMEOUT = 40000;\n\n  private readonly BLUETOOTH_TIMEOUT = 30000;\n\n  constructor(\n    private storeage: IvtStorageService,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private bluetoothSvc: BluetoothService,\n    public platform: Platform,\n    public toastCtrl: ToastController,\n    public alertCtrl: AlertController,\n    private fileService: FileService,\n    public domSanitizer: DomSanitizer,\n    private translate: TranslateService,\n    private loadingSvc: LoadingService,\n    private utils: Utils,\n    private drivingRecordService: DrivingRecordService,\n    private geoService: GeoService,\n    private progressSvc: ProgressService,\n    private dialog: DialogService\n  ) {\n    this.tabElement = document.querySelector('.tabbar')\n    this.displayTab('none');\n    this.geoItems = [];\n    this.isConnected = false\n    this.btUnpaireItems = [];\n    this.previousRecord = [];\n\n    //서버로부터 가져온 BT ID값이 같으면 바로 record로 넘김\n    this.info = [];\n    this.btMsg = 'test_drive.bluetooth_connection_required';\n\n    this.item = navParams.get('item')\n    this.applicationId = this.item.id;\n    // this.applicationId = 127 //TODO Reservation List에서 받아온 id값이 500 인터널 에러 나서 일단 127로 사용.\n\n    console.log(\"이전 파라미터: \", this.item);\n\n\n    this.carInfo = this.item.vehicleDisplayName;\n\n    // this.info.push({\n    //   userName: this.item.customerFullName,\n    //   consultant: this.item.consultantUserName,\n    //   useTime: this.item.time,\n    //   location: this.item.location\n    // })\n\n    this.translate.get('msg.bluetooth').subscribe((value) => {\n      this.bluetoothString = value;\n    });\n\n    this.translate.get('msg.bluetooth_is_off_do_you_want_to_proceed_anyway').subscribe((value) => {\n      this.bluetoothOffString = value;\n    });\n\n    this.translate.get('YES_BUTTON').subscribe((value) => {\n      this.yesString = value;\n    });\n\n    this.translate.get('NO_BUTTON').subscribe((value) => {\n      this.noString = value;\n    });\n\n    this.translate.get('test_drive.connection_failed_to').subscribe((value) => {\n      this.connectionFailedToString = value;\n    });\n\n    this.translate.get('test_drive.tried_to_connect_to').subscribe((value) => {\n      this.triedToConnectToString = value;\n    });\n\n    this.translate.get('test_drive.but_failed').subscribe((value) => {\n      this.butFailedString = value;\n    });\n\n    this.translate.get('test_drive.reason').subscribe((value) => {\n      this.reasonString = value;\n    });\n\n    this.translate.get('test_drive.do_you_want_to_proceed_anyway').subscribe((value) => {\n      this.doYouWantToProceedAnywayString = value;\n    });\n\n    this.translate.get('msg.gps').subscribe((value) => {\n      this.gpsString = value;\n    });\n\n    this.translate.get('msg.access_to_location_services_is_denied').subscribe((value) => {\n      this.accessToLocationServicesIsDeniedString = value;\n    });\n\n    this.translate.get('OK_BUTTON').subscribe((value) => {\n      this.okString = value;\n    });\n    this.getAppSetting();\n  }\n\n  private getAppSetting() {\n    this.appSetting = this.storeage.get(Config.AppSetting);\n  }\n  private displayTab(display: string) {\n    if (this.tabElement && this.tabElement.style)\n      this.tabElement.style.display = display;\n  }\n  ionViewWillEnter() {\n    this.displayTab('none');\n  }\n  ionViewWillLeave() {\n    this.displayTab('flex');\n  }\n\n  async ionViewDidEnter() {\n    this.getVehiclePicture()\n    await this.platform.ready();\n    // testing\n    // this.appSetting.smartTestDriveSetting.hostSide.tryToConnectToBluetoothDeviceBeforeTestDrive = true;\n    if (await this.requestPermission()) {\n      this.process();\n    }\n  }\n\n  async requestPermission(): Promise<boolean> {\n    let bluetoothEnable = false; // bluetooth permission is optional\n    if (this.appSetting.smartTestDriveSetting.hostSide.tryToConnectToBluetoothDeviceBeforeTestDrive) {\n      try {\n        bluetoothEnable = await this.bluetoothSvc.enable();\n      } catch (err) {\n        console.error('[requestPermission] error: ', err);\n      }\n    } else {\n      bluetoothEnable = true;\n    }\n    return bluetoothEnable && this.requestLocationAccuracy(); // location is mandatory\n  }\n\n  /**\n   * Get record session id\n   */\n  async getRecordSession(recordRequest: DrivingRecordRequest): Promise<string> {\n    try {\n      // console.log('[getRecordSession] applicationId ...', this.applicationId);\n      let records = await this.drivingRecordService.search({ \"applicationId\": this.applicationId }).toPromise();\n      console.log('[getRecordSession] get records ...', records);\n      let shouldMakeNewSession = false;\n      if (!records || records.length == 0) {\n        // first test drive\n        shouldMakeNewSession = true;\n      } else {\n        // resort to prevent server side mistake\n        records.sort((record1: DrivingRecord, record2: DrivingRecord) => Number(record1.id) - Number(record2.id));\n        console.log('[getRecordSession] sort Records: records ...', records);\n        const lastRecord = records[records.length - 1];\n        if (lastRecord.drivingRecordStatusEnum === DrivingRecord.DrivingRecordStatusEnum.OnRecord) {\n          return lastRecord.id;\n        } else if (lastRecord.drivingRecordStatusEnum === DrivingRecord.DrivingRecordStatusEnum.Done) {\n          shouldMakeNewSession = true;\n        }\n      }\n      if (shouldMakeNewSession) {\n        // console.log('[getRecordSession] startRecord: recordRequest ...', recordRequest);\n        let newRecord = await this.drivingRecordService.startRecord(recordRequest).toPromise();\n        console.log('[getRecordSession] startRecord: newRecord ...', newRecord);\n        return newRecord.id;\n      }\n\n    } catch (err) {\n      console.error('[getRecordSession]', err);\n      // this.toastSvc.error('msg.failed_to_get_record_session');\n      throw err;\n    }\n  }\n\n  async requestLocationAccuracy(): Promise<boolean> {\n    let permissionOk = await this.geoService.requestLocationPermission();\n    if (permissionOk) {\n      let requestAccuracyOk = await this.geoService.requestLocationAccuracy();\n      if (requestAccuracyOk) {\n        return true;\n      }\n    }\n    await this.geoService.displayLocationRequiredAlert();\n    this.goBackToReservationList();\n    return false;\n  }\n\n  getVehiclePicture() {\n    this.fileService.download(this.item.vehicleFrontSidePictureId).then(result => {\n      this.vehiclePicture = result;\n    });\n  }\n\n  async process() {\n    let passBluetoothChecking = false;\n    let targetDeviceId = null;\n    if (this.appSetting.smartTestDriveSetting.hostSide.tryToConnectToBluetoothDeviceBeforeTestDrive) {\n      let isEnabled = await this.bluetoothSvc.isEnabled();\n      if (isEnabled) {\n        this.btMsg = 'test_drive.bluetooth_established_test_drive_start_soon'; // change UI text\n        try {\n          if (this.utils.isIOS() && this.item.pairedDeviceIdOniOS) {\n            passBluetoothChecking = true; // scanning classic Bluetooth is not supported on IOS\n            // await this.pairWithDevice(this.item.pairedDeviceIdOniOS).then(res => {\n            //   pairedDeviceId = this.item.pairedDeviceIdOniOS;\n            // })\n          } else if (this.utils.isAndroid() && this.item.pairedDeviceIdOnAndroid) {\n            const loader = await this.loadingSvc.create('bluetooth.scanning_bluetooth_devices');\n            loader.present();\n            passBluetoothChecking = await this.findTargetDevice(this.item.pairedDeviceIdOnAndroid);\n            loader.dismiss();\n            if (passBluetoothChecking) {\n              targetDeviceId = this.item.pairedDeviceIdOnAndroid;\n            }\n          } else {\n            // vehicle were not registered with a bluetooth device\n            passBluetoothChecking = true;\n          }\n        } catch (err) {\n          console.error(err);\n        }\n      } else if (this.utils.isIOS()) {\n        passBluetoothChecking = true;\n      }\n    } else {\n      passBluetoothChecking = true;\n    }\n    if (!passBluetoothChecking) {\n      let msg = await this.translate.get('test_drive.cannot_find_registered_device').toPromise();\n      await this.dialog.alert(msg);\n      this.goBackToReservationList();\n    } else {\n      let loc = await this.requestGeoLocation();\n      let requestRecord = {\n        applicationId: this.applicationId,\n        startLatitude: loc.latitude,\n        startLongitude: loc.longitude,\n        driveStartTime: moment().toISOString()\n      } as DrivingRecordRequest;\n\n      if (targetDeviceId != null) {\n        requestRecord.pairedDeviceId = targetDeviceId;\n      }\n      try {\n        let recordId = await this.getRecordSession(requestRecord);\n        this.nextPage(recordId, requestRecord);\n      } catch (err) {\n        console.error('[getRecordSession]..', err);\n      }\n    }\n  }\n\n  /**\n   * Scanning for a target device. Promise resolve with true if found, false if not found\n   * @param address_or_uuid \n   */\n  private async findTargetDevice(address_or_uuid: string): Promise<boolean> {\n    try {\n      await this.bluetoothSvc.scanWithDeviceID(address_or_uuid);\n      // found device;\n      return true;\n    } catch (ex) {\n      // cannot find target device, ask user to try again\n      let msg = await this.translate.get('bluetooth.cannot_find_target_device_try_again').toPromise();\n      let confirm = await this.dialog.confirm(msg);\n      if (confirm) {\n        return this.findTargetDevice(address_or_uuid);\n      } else {\n        return false;\n      }\n    }\n  }\n  private async requestGeoLocation(): Promise<BackgroundGeolocationResponse> {\n    let loader = await this.loadingSvc.create('msg.receiving_geolocation');\n    loader.present();\n\n    return new Promise<BackgroundGeolocationResponse>(\n      (parentResolve, parentReject) => {\n        let subscription = null;\n        const promise = new Promise(\n          (resolve, _) => {\n            subscription = this.geoService.subscribe(\n              async (loc: BackgroundGeolocationResponse) => {\n                console.log('Get the first location');\n                resolve();\n                parentResolve(loc);\n                if (subscription) {\n                  subscription.unsubscribe();\n                }\n                loader.dismiss();\n              }\n            )\n          }\n        )\n        this.progressSvc.observe(\n          () => {\n            loader.dismiss();\n            if (subscription) {\n              subscription.unsubscribe();\n            }\n            this.geoService.stop();\n            parentReject();\n          },\n          promise,\n          this.GEO_TIMEOUT\n        )\n        this.geoService.start();\n      }\n    );\n  }\n\n  /**\n   * Promise resolve if pairing successfully, reject if it fails\n   * @param btId \n   */\n  async pairWithDevice(btId): Promise<any> {\n    console.log('Pairing with device ', btId);\n    return new Promise(\n      async (resolve, reject) => {\n\n        let subscription: ISubscription;\n        let loader = await this.loadingSvc.create(this.translate.instant('msg.connecting_to_bluetooth_device'));\n        loader.present();\n        const promise = new Promise(\n          async (finishProgress, _) => {\n            subscription = this.bluetoothSvc.connect(btId).subscribe(\n              _ => {\n                resolve();\n                console.log('Bluetooth connected');\n                loader.dismiss();\n                finishProgress();\n              },\n              err => {\n                reject(err);\n                loader.dismiss();\n                finishProgress();\n              }\n            );\n          }\n        );\n        this.progressSvc.observe(\n          () => {\n            subscription && subscription.unsubscribe();\n            reject();\n            loader.dismiss();\n          },\n          promise,\n          this.BLUETOOTH_TIMEOUT\n        );\n      }\n    );\n\n\n  }\n\n  async nextPage(recordId: string, recordRequest: DrivingRecordRequest) {\n    this.navCtrl.setRoot('TestDriveRecordPage', {\n      item: this.item,\n      recordId: recordId,\n      recordRequest: recordRequest\n    });\n    this.navCtrl.popToRoot();\n  }\n\n  clickReselection() {\n    this.goBackToReservationList();\n  }\n\n  private goBackToReservationList() {\n    this.navCtrl.setRoot('ReservationListPage');\n    this.navCtrl.popToRoot();\n    this.geoService.stop();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/test-drive-ready/test-drive-ready.ts"],"sourceRoot":""}