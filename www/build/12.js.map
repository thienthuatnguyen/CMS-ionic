{"version":3,"sources":["../../src/pages/vehicle-health-check/history/vhc-history.module.ts","../../src/pages/vehicle-health-check/history/vhc-history.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HistoryDetailPage } from './vhc-history';\n\n\n@NgModule({\n  declarations: [\n    HistoryDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HistoryDetailPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    HistoryDetailPage\n  ]\n})\nexport class VhcHistoryModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vehicle-health-check/history/vhc-history.module.ts","import { FileService } from \"../../../services/file.service\";\nimport { NavParams, ViewController, IonicPage, LoadingController } from \"ionic-angular\";\nimport { VhcCommentPhotosModel, VehicleHealthCheckModel } from \"../../../models/commentAndPhoto.model\";\nimport { Picture } from \"../../../models/picture.model\";\nimport { Component } from \"@angular/core\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport { Config } from \"../../../app/app.config\";\nimport { ViewChild } from '@angular/core';\nimport { Slides } from 'ionic-angular';\nimport { IvtStorageService } from '@ivt/security';\nimport { LocalSettingModel } from \"../../../models/config/local.setting.model\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { LanguageService } from \"../../../services/language.service\";\n\n@IonicPage()\n@Component({\n    selector: 'vhc-history',\n    templateUrl: 'vhc-history.html'\n})\n\nexport class HistoryDetailPage {\n    @ViewChild(Slides) slides: Slides;\n    history: VehicleHealthCheckModel;\n    Pictures: Picture[] = [];\n    displayDateFormat = Config.date.displayFormatDateSurvey;\n    direction: string;\n    constructor(private fileSvc: FileService, private params: NavParams,\n         public viewCtrl: ViewController, public domSanitizer: DomSanitizer, \n         private loadingCtrl: LoadingController, private translate: TranslateService, \n         private languageService: LanguageService   \n        ) {\n        this.history = this.params.data.item as VehicleHealthCheckModel;        \n        this.downloadPhoto(this.history.vhcCommentPhotos);\n        this.languageService.onDirectionChanged(\n            (isRTL) => {\n              if (isRTL) {\n                this.direction = Config.direction.rtl;\n              }\n              else {\n                this.direction = Config.direction.ltr;\n              }\n            }\n          )\n        \n    }\n\n    private async downloadPhoto(vhcCommentPhotos: VhcCommentPhotosModel[]) {\n        let _list = [];\n        if (this.history.vhcCommentPhotos && this.history.vhcCommentPhotos.length>0) {\n            let loadingMsg = await this.translate.get('msg.loading').toPromise();\n            let loading = this.loadingCtrl.create({\n                content: loadingMsg\n            });\n          \n            loading.present();\n\n            for (let item of vhcCommentPhotos) {\n                await this.fileSvc.download(item.pictureId).then(result => {\n                    _list.push({ id: item.pictureId, url: result })\n                })\n            }\n\n            for (let item of vhcCommentPhotos) {\n                let temp = _list.find(_photo => {\n                    return _photo.id == item.pictureId\n                });\n                this.Pictures.push(temp);\n            }\n            loading.dismiss();\n\n        }\n    }\n    dismiss() {\n        this.viewCtrl.dismiss();\n    }\n    next() {\n         this.slides.slideNext();\n    }\n    prev() {\n        this.slides.slidePrev();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vehicle-health-check/history/vhc-history.ts"],"sourceRoot":""}