{"version":3,"sources":["../../src/pages/drive-shooting/drive-shooting.module.ts","../../src/pages/drive-shooting/drive-shooting.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACa;AACN;AACK;AAcrD;IAAA;IAAuC,CAAC;IAA3B,uBAAuB;QAZnC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,0EAAiB;aAClB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,0EAAiB,CAAC;gBAC3C,4EAAe,CAAC,QAAQ,EAAE;aAC3B;YACD,OAAO,EAAE;gBACP,0EAAiB;aAClB;SACF,CAAC;OACW,uBAAuB,CAAI;IAAD,8BAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBM;AAEiE;AAG7C;AACJ;AAEE;AACqB;AAGP;AACA;AAO1E;IAEE,2BAAmB,OAAsB,EAC/B,MAAqB,EACrB,OAAoB,EACpB,sBAA8C,EAC9C,SAAoB,EACpB,QAAsB,EACtB,mBAAwC,EACxC,QAAwB;QAPf,YAAO,GAAP,OAAO,CAAe;QAC/B,WAAM,GAAN,MAAM,CAAe;QACrB,YAAO,GAAP,OAAO,CAAa;QACpB,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,cAAS,GAAT,SAAS,CAAW;QACpB,aAAQ,GAAR,QAAQ,CAAc;QACtB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,aAAQ,GAAR,QAAQ,CAAgB;IAElC,CAAC;IACD,2CAAe,GAAf;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACjD,CAAC;IACK,uCAAW,GAAjB;;;;;;;6BACK,KAAI,CAAC,QAAQ,IAAI,UAAU,GAA3B,wBAA2B;wBACxB,OAAO,SAAQ,CAAC;wBAChB,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC;wBAC5C,qBAAM,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;;wBAAxC,OAAO,GAAG,SAA8B,CAAC;wBAC/B,qBAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC;;wBAA5C,GAAG,GAAG,SAAsC;wBAC5C,oBAAoB,GAAG,IAAI,2FAAoB,EAAE,CAAC;wBACtD,oBAAoB,CAAC,aAAa,GAAG,aAAa,CAAC;wBACnD,oBAAoB,CAAC,iBAAiB,GAAG,GAAG,CAAC;wBAC7C,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,SAAS,CAAC;wBACjE,CAAC,EAAC,UAAC,IAAI;4BACL,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;wBACpC,CAAC,CAAC,CAAC;wBACH,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;4BAC/D,IAAI,CAAC,mBAAmB,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC9D,CAAC;wBACD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;4BAChE,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC7D,CAAC;;;wBAGH,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;;;;;KACzB;IArCU,iBAAiB;QAJ7B,gEAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;WACQ;SACnC,CAAC;4FAGyC;YACvB,4EAAa;YACZ,kGAAW;YACI,iEAAsB;YACnC,6EAAS;YACV,2FAAY;YACD,uEAAmB;YAC9B,cAAc;OATvB,iBAAiB,CAsC7B;IAAD,CAAC;AAAA;SAtCY,iBAAiB,gB","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DriveShootingPage } from './drive-shooting';\n\n@NgModule({\n  declarations: [\n    DriveShootingPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DriveShootingPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    DriveShootingPage\n  ]\n})\nexport class DriveShootingPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/drive-shooting/drive-shooting.module.ts","import { Component } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IonicPage, NavController, NavParams, AlertController, ToastController, ViewController } from 'ionic-angular';\n\nimport { Util } from '../../providers';\nimport { CameraService } from '../../services/camera.service';\nimport { FileService } from '../../services/file.service';\nimport { IvtSecurityService } from '@ivt/security';\nimport { ToastService } from '../../services/toast.service';\nimport { VehicleOdometerService } from '../../services/vehicle.odometer.service';\nimport { LoadingService } from '../../services/loading.service';\nimport { DrivingRecordService } from '../../services/driving.record.service';\nimport { VehicleOdometerModel } from '../../models/VehicleOdometer.model';\nimport { NotificationService } from '../../services/notification.service';\n\n@IonicPage()\n@Component({\n  selector: 'drive-shooting',\n  templateUrl: 'drive-shooting.html'\n})\nexport class DriveShootingPage {\n  pageType: string;\n  constructor(public navCtrl: NavController,\n    private camera: CameraService,\n    private fileSvc: FileService,\n    private vehicleOdometerService: VehicleOdometerService,\n    private navParams: NavParams,\n    private toastSvc: ToastService,\n    private notificationService: NotificationService,\n    private viewCtrl: ViewController\n  ) {\n  }\n  ionViewDidEnter() {\n    this.pageType = this.navParams.get('pageType');\n  }\n  async takePicture() {\n    if(this.pageType == 'odometer') {\n      let _base64: string;\n      let applicationId = this.navParams.data.applicationId;\n      _base64 = await this.camera.getPicture();\n      let _id = await this.fileSvc.upload(_base64, {});\n      let vehicleOdometerModel = new VehicleOdometerModel();\n      vehicleOdometerModel.applicationId = applicationId;\n      vehicleOdometerModel.odometerPictureId = _id;\n      this.vehicleOdometerService.save(vehicleOdometerModel).subscribe(() => {\n      },(fail)=>{\n        this.toastSvc.error(fail.message);\n      });\n      if (this.navParams.data && this.navParams.data.BeforeTestDrive) {\n        this.notificationService.takeOdometerBeforeDrive.next(true);\n      }\n      if (this.navParams.data && !this.navParams.data.BeforeTestDrive) {\n        this.notificationService.takeOdometerAfterDrive.next(true);\n      }\n    }\n    \n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/drive-shooting/drive-shooting.ts"],"sourceRoot":""}