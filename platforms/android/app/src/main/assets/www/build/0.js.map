{"version":3,"sources":["../../src/pages/list-master/list-master.module.ts","../../src/component/camera/camera.component.ts","../../src/component/component.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/hours-minutes-seconds/hours-minutes-seconds.ts","../../src/pipes/time-duration/time-duration.ts","../../src/pages/list-master/list-master.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ListMasterPage } from './list-master';\nimport { PipesModule } from '../../pipes/pipes.module';\nimport { ComponentModule } from '../../component/component.module';\n\n@NgModule({\n  declarations: [\n    ListMasterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ListMasterPage),\n    TranslateModule.forChild(),\n    PipesModule,\n    ComponentModule\n  ],\n  exports: [\n    ListMasterPage\n  ]\n})\nexport class ListMasterPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-master/list-master.module.ts","import { Component, Input } from \"@angular/core\";\nimport { CameraService } from \"../../services/camera.service\";\nimport { FileService } from \"../../services/file.service\";\nimport { Picture } from \"../../models/picture.model\";\nimport { APIResponse, APICode } from \"@ivt/http-client\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport { AlertController, ModalController } from \"ionic-angular\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { DriveShootingPage } from \"../../pages/drive-shooting/drive-shooting\"\n\n@Component({\n    selector: 'ivt-camera',\n    templateUrl: './camera.component.html'\n})\nexport class CameraComponent {\n    confirmWord: string;\n    okWord: string;\n    cancelWord: string;\n    _frontPictures: Array<Picture> = [];\n    _backPictures: Array<Picture> = [];\n\n    @Input() \n    get frontPictures() {\n        return this._frontPictures;\n    };\n    set frontPictures(val) {\n        this._frontPictures = val;\n    }\n    @Input()\n    get backPictures() {\n        return this._backPictures;\n    };\n    set backPictures(val) {\n        this._backPictures = val;\n    }\n\n    multiple = false;\n\n    constructor(\n        private camera: CameraService,\n        private fileSvc: FileService,\n        public domSanitizer: DomSanitizer,\n        private alertCtrl: AlertController,\n        private translate: TranslateService,\n        private modalCtrl: ModalController\n    ) {\n        translate.get('DELETE_CAMERA_IMAGE').subscribe((value) => {\n            this.confirmWord = value;\n        })\n        translate.get('OK_BUTTON').subscribe((value) => {\n            this.okWord = value;\n        })\n        translate.get('CANCEL_BUTTON').subscribe((value) => {\n            this.cancelWord = value;\n        })\n    }\n    takePhoto(side: string) {\n        // let profileModal = this.modalCtrl.create(DriveShootingPage, {\n        //     pageType: side\n        // });\n\n        // profileModal.onDidDismiss(data => {\n            this.camera.getPicture().then(\n                _base64 => this.storePhotos(side, _base64)\n            )\n        // });\n        // profileModal.present();\n    }\n    storePhotos(side: string, base64: string): any {\n        let picture = new Picture();\n        picture.url = base64;\n        if (side === 'front') {\n            if (this.multiple === false) {\n                this._frontPictures.splice(0, 1, picture);\n            } else {\n                this._frontPictures.push(picture)\n            }\n        } else if (side === 'back') {\n            if (this.multiple === false) {\n                this._backPictures.splice(0, 1, picture);\n            } else {\n                this._backPictures.push(picture);\n            }\n        }\n    }\n    upload(): Promise<CameraUploadResult> {\n        return new Promise(\n            (resolver, rejecter) => {\n                let uploadRequests = [];\n                let photos = this._frontPictures.concat(this._backPictures);\n                photos.forEach(_picture => {\n                    if (_picture.id == null) {\n                        uploadRequests.push(this.fileSvc.upload(_picture.url, { fileName: this.generateUniqueFileName() }).then(\n                            _id => _picture.id = _id\n                        ))\n                    }\n                });\n                // TODO: handle error\n                Promise.all(uploadRequests).then(_ => {\n                    resolver({\n                        _frontPictures: this._frontPictures,\n                        _backPictures: this._backPictures\n                    });\n                });\n            }\n        );\n        ;\n\n    }\n\n    deletePhoto(side: string) {\n\n        let confirm = this.alertCtrl.create({\n            title:  this.confirmWord,\n            message: '',\n            buttons: [\n              {\n                text: this.cancelWord,\n                handler: () => {\n                }\n              }, {\n                text: this.okWord,\n                handler: () => {\n                    if (side === 'front') {\n                        this._frontPictures.splice(0, this._frontPictures.length);\n                    } else if (side === 'back') {\n                        this._backPictures.splice(0, this._backPictures.length);\n                    }  \n                }\n              }\n            ]\n          });\n          confirm.present();\n    }\n\n    private generateUniqueFileName(): string {\n        return new Date().getTime().toString() + this.fileSvc.FILE_EXTENSION;\n    }\n}\n\nexport interface CameraUploadResult {\n    _frontPictures: Array<Picture>;\n    _backPictures: Array<Picture>;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/component/camera/camera.component.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule, IonicModule } from 'ionic-angular';\nimport { TranslateModule } from \"@ngx-translate/core\";\nimport { CameraComponent } from './camera/camera.component';\n\n@NgModule({\n  declarations: [\n    CameraComponent\n  ],\n  imports: [\n    TranslateModule.forChild(),\n    IonicModule\n  ],\n  exports: [\n    CameraComponent\n  ]\n})\nexport class ComponentModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/component.module.ts","import { NgModule } from '@angular/core';\nimport { HoursMinutesSeconds } from './hours-minutes-seconds/hours-minutes-seconds';\nimport { TimeDuration } from './time-duration/time-duration';\n@NgModule({\n\tdeclarations: [HoursMinutesSeconds, TimeDuration\n    ],\n\timports: [],\n\texports: [HoursMinutesSeconds, TimeDuration\n    ]\n})\nexport class PipesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import {Injectable, Pipe, PipeTransform} from '@angular/core';\n//import * as _moment from 'moment';\nimport * as moment from 'moment';\n\n// const Moment = _moment;\n/**\n * Generated class for the HoursMinutesSecondsPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'hoursMinutesSeconds',\n})\nexport class HoursMinutesSeconds implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n\n  transform(value, args?) {\n\n    // let sec_num = parseInt(value, 10);\n    let momentDateString = moment((parseInt(value)*1000)).utcOffset(0).format('HH:mm:ss')\n\n    // momentDateString =(parseInt(value)*1000)\n\n\n\n    // let momentDateString = moment(new Date(sec_num)).format('hh:mm:ss')\n    return momentDateString;\n  }\n    /*if (hours != 0) {\n      time = hours+\":\";\n    }\n    if (minutes != 0 || time !== \"\") {npm\n      minutes = (minutes < 10 && time !== \"\") ? \"0\"+minutes : String(minutes);\n      time += minutes+\":\";\n    }\n    if (time === \"\") {\n      time = seconds+\"s\";\n    }\n    else {\n      time += (seconds < 10) ? \"0\"+seconds : String(seconds);\n    }\n    return time;\n  }*/\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/hours-minutes-seconds/hours-minutes-seconds.ts","import {Pipe, PipeTransform} from '@angular/core';\nimport * as moment from 'moment';\n\n@Pipe({\n  name: 'timeDuration',\n})\nexport class TimeDuration implements PipeTransform {\n  transform(value, args?) {\n    const day = 60 * 60;\n    let timeDuration = '';\n\n    if(value > day) {\n        timeDuration = Math.floor(value / day) + 'D+';\n    }\n    else {\n      let time = moment((parseInt(value)*1000)).utcOffset(0);\n      timeDuration = time.format('H') + 'H ' + time.format('mm') + 'M';\n    }\n    \n    return timeDuration;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/time-duration/time-duration.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, ModalController, NavController, Platform, LoadingController } from 'ionic-angular';\n\nimport { Item } from '../../models/item';\nimport { Items } from '../../providers';\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { VehicleOnRoad, VehicleWaitting } from '../../models/vehicleInfo';\nimport { IvtStorageService } from '@ivt/security';\nimport { Vehicle } from '../../models/vehicle/vehicle.model';\nimport { VehicleService } from '../../services/vehicle.service';\nimport { APIResponse } from '@ivt/http-client';\nimport { ToastService } from '../../services/toast.service';\nimport { FileService } from '../../services/file.service';\nimport { FileEntry } from '@ionic-native/file';\nimport { FileUploadResult } from '@ionic-native/file-transfer';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@IonicPage()\n@Component({\n  selector: 'page-list-master',\n  templateUrl: 'list-master.html'\n})\nexport class ListMasterPage {\n  imageUrl: string;\n  vehicles: Array<Vehicle> = [];\n  vehiclesOnRoad: Array<Vehicle> = [];\n  vehiclesWaiting: Array<Vehicle> = [];\n  reminderTotal: any = 5;\n  syncedTime = new Date();\n  vehiclesTotal: number;\n  loadingMsg: string;\n\n  constructor(\n    public navCtrl: NavController,\n    public items: Items,\n    public modalCtrl: ModalController,\n    private vehicleSvc: VehicleService,\n    private toastSvc: ToastService,\n    private fileSvc: FileService,\n    public domSanitizer: DomSanitizer,\n    private loadingCtrl: LoadingController,\n    private translateService: TranslateService\n  ) { \n    this.translateService.get('msg.loading').subscribe((value) => {\n      this.loadingMsg = value;\n    });\n  }\n\n  ionViewDidEnter () {\n    this.loadData();\n  }\n  loadData() {\n    let loading = this.loadingCtrl.create({\n      content: this.loadingMsg\n    });\n\n    loading.present();\n\n    this.vehicleSvc.searchForHomePage().subscribe(\n      _items => {\n        this.vehicles = _items;\n\n        this.vehiclesOnRoad = this.vehicles.filter(_vehicle => _vehicle.isDrivingOnRoad() && _vehicle.isActive());\n        this.vehiclesOnRoad.forEach(_onRoad => {\n          this.fileSvc.download(_onRoad.frontPicture.id).then(url => {\n            _onRoad.frontPicture.url = url;\n          })\n        })\n        this.vehiclesWaiting = this.vehicles.filter(_vehicle => _vehicle.isDrivingStop() && _vehicle.isActive() );        \n        this.vehiclesTotal = this.vehiclesOnRoad.length + this.vehiclesWaiting.length;\n\n        loading.dismiss();\n      },\n      (err: APIResponse) => {\n        loading.dismiss();\n        this.toastSvc.error(err.message);\n      }\n    )\n  }\n\n  addVehicle() {\n    this.navCtrl.push('VehicleRegistrationPage');\n  }\n\n  /**\n   * Delete an item from the list of items.\n   */\n  deleteItem(item) {\n    this.items.delete(item);\n  }\n\n  /**\n   * Navigate to the detail page for this item.\n   */\n  openItem(item: Item) {\n    this.navCtrl.push('ItemDetailPage', {\n      item: item\n    });\n  }\n  openResevation(item: Item) {\n    this.navCtrl.setRoot('ReservationListPage', {\n      item: item\n    });\n  }\n\n  openReminder() {\n    this.navCtrl.push('ReminderPage');\n  }\n  upload() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-master/list-master.ts"],"sourceRoot":""}